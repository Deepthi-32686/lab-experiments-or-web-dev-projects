<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interactive Bookstore</title>

<style>
/* =========================================================
   GLOBAL STYLES & PAGE BACKGROUND
   ========================================================= */
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(120deg, #dff1ff, #f9e6ff, #fff4d9);
    min-height: 100vh;
}

/* Page container */
.container {
    width: 90%;
    max-width: 900px;
    margin: auto;
}

/* =========================================================
   HEADER
   ========================================================= */
header {
    padding: 25px 0;
    text-align: center;
    font-size: 32px;
    font-weight: bold;
}

/* =========================================================
   FORM & INPUT STYLES
   ========================================================= */
#addBookForm {
    background: white;
    padding: 20px;
    border-radius: 18px;
    margin-bottom: 25px;
    box-shadow: 0px 6px 20px rgba(0,0,0,0.1);
}

#addBookForm input {
    width: 90%;
    padding: 10px;
    border-radius: 10px;
    border: 1px solid #bbb;
    margin-bottom: 12px;
    display: block;
}

/* Buttons */
button {
    padding: 10px 16px;
    background: #0077ff;
    color: white;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    font-size: 14px;
}

button:hover { opacity: 0.85; }

/* =========================================================
   BOOK CARD STYLE
   ========================================================= */
.book-card {
    background: linear-gradient(135deg, #ffffffcc, #e8f1ffcc);
    padding: 18px;
    border-radius: 18px;
    margin-bottom: 18px;
    box-shadow: 0px 6px 15px rgba(0,0,0,0.1);
    position: relative;
}

/* Price tag in top right corner */
.price-tag {
    position: absolute;
    top: 18px;
    right: 18px;
    background: #333;
    color: white;
    padding: 5px 12px;
    border-radius: 15px;
}

/* Remove button inside card */
.remove-btn {
    background: #ff4b4b;
    margin-top: 10px;
}

/* Search bar & sort dropdown styling */
#search, #sortSelect {
    padding: 10px;
    border-radius: 10px;
    border: 1px solid #aaa;
    margin-bottom: 15px;
}
</style>
</head>

<body>

<header>üìö Interactive Bookstore</header>

<div class="container">

    <!-- =========================================================
         SEARCH AND SORT SECTION
         ========================================================= -->
    <input type="text" id="search" placeholder="Search books..." onkeyup="renderBooks()">

    <select id="sortSelect" onchange="renderBooks()">
        <option value="price">Sort by Price</option>
        <option value="rating">Sort by Rating</option>
    </select>

    <!-- =========================================================
         ADD NEW BOOK FORM
         ========================================================= -->
    <div id="addBookForm">
        <h3>Add New Book</h3>

        <input id="title" placeholder="Book Title">
        <input id="author" placeholder="Author Name">
        <input id="price" type="number" placeholder="Price (‚Çπ)">
        <input id="rating" type="number" placeholder="Rating (1-5)" min="1" max="5">

        <button onclick="addBook()">Add Book</button>
    </div>

    <!-- BOOK LIST OUTPUT -->
    <div id="bookList"></div>

</div>

<script>
// =========================================================
// INITIAL BOOK DATA
// =========================================================
let books = [
    { title: "Atomic Habits", author: "James Clear", price: 499, rating: 4.8 },
    { title: "Deep Work", author: "Cal Newport", price: 349, rating: 4.5 }
];

// =========================================================
// ADD A NEW BOOK
// =========================================================
function addBook() {
    let t = title.value.trim();
    let a = author.value.trim();
    let p = Number(price.value);
    let r = Number(rating.value);

    // Validation check
    if (!t || !a || !p || !r) {
        alert("Please fill all fields");
        return;
    }

    // Add book to list
    books.push({ title: t, author: a, price: p, rating: r });

    // Clear inputs
    title.value = "";
    author.value = "";
    price.value = "";
    rating.value = "";

    renderBooks();
}

// =========================================================
// REMOVE A BOOK
// =========================================================
function removeBook(index) {
    books.splice(index, 1);
    renderBooks();
}

// =========================================================
// RENDER BOOK CARDS
// =========================================================
function renderBooks() {
    let searchText = search.value.toLowerCase();
    let sortType = sortSelect.value;

    // Filter books based on search text
    let filtered = books.filter(b =>
        b.title.toLowerCase().includes(searchText)
    );

    // Sort books
    if (sortType === "price") filtered.sort((a, b) => a.price - b.price);
    if (sortType === "rating") filtered.sort((a, b) => b.rating - a.rating);

    bookList.innerHTML = "";

    // Create book cards
    filtered.forEach((b, i) => {
        bookList.innerHTML += `
            <div class="book-card">
                <h3>${b.title}</h3>
                <p>By ${b.author}</p>
                ‚≠ê ${b.rating}
                <div class="price-tag">‚Çπ${b.price}</div>
                <button class="remove-btn" onclick="removeBook(${i})">Remove</button>
            </div>
        `;
    });
}

// Render books on page load
renderBooks();
</script>

</body>
</html>
